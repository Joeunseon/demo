<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/layout">
<body>
    <!-- warp -->
    <div class="warp">
        <!-- container-block -->
        <div id="container-block" layout:fragment="contents" th:remove="tag">
            <!-- container -->
            <div class="container-fluid custom-container">
                <main>
                    <h3 class="mb-3 ms-3">암호화 관리</h3>

                    <!-- accordion -->
                    <div class="accordion p-3" id="encryptionAccordion">
                        <!-- Jasypt -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingJasypt">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseJasypt" aria-expanded="true" aria-controls="collapseJasypt">
                                    🔐 Jasypt 암호화/복호화
                                </button>
                            </h2>
                            <div id="collapseJasypt" class="accordion-collapse collapse show" aria-labelledby="headingJasypt" data-bs-parent="#encryptionAccordion">
                                <div class="accordion-body">
                                    <form id="jasyptForm">
                                        <div class="mb-3">
                                            <label for="jasyptTargetText" class="form-label">평문 문자열</label>
                                            <textarea class="form-control" id="jasyptTargetText" name="targetText" rows="3" required="required"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label for="jasyptSecretKey" class="form-label">비밀번호 (Password)</label>
                                            <input type="text" class="form-control" id="jasyptSecretKey" name="secretKey" required="required">
                                        </div>
                                        <div class="mb-3">
                                            <label for="jasyptAlgorithm" class="form-label">알고리즘</label>
                                            <select class="form-select" id="jasyptAlgorithm" name="algorithm">
                                                <option selected="selected" value="PBE_WITH_MD5_AND_DES" >기본 (MD5 + DES)</option>
                                                <option value="PBE_WITH_SHA1_AND_DESEDE">SHA1 + Triple DES</option>
                                                <option value="PBE_WITH_SHA256_AND_AES_128">SHA256 + AES 128 (BC)</option>
                                                <option value="PBE_WITH_SHA256_AND_AES_256">SHA256 + AES 256 (BC)</option>
                                            </select>
                                        </div>
                                    </form>
                                        <div class="mb-3">
                                            <button type="button" class="btn btn-dark" onclick="encrypt('jasypt');">암호화</button>
                                            <button type="button" class="btn btn-secondary" onclick="decrypt('jasypt');">복호화</button>
                                        </div>
                                        <div class="mb-3">
                                            <label for="jasyptResult" class="form-label">결과</label>
                                            <div class="input-group">
                                                <textarea class="form-control" rows="3" readonly="readonly" id="jasyptResult"></textarea>
                                                <button type="button" class="btn btn-outline-secondary" onclick="copyResult('jasypt');">복사</button>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>

                        <!-- BCrypt -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingBCrypt">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBCrypt" aria-expanded="false" aria-controls="collapseBCrypt">
                                    🔑 Spring Security BCrypt 암호화
                                </button>
                            </h2>
                            <div id="collapseBCrypt" class="accordion-collapse collapse" aria-labelledby="headingBCrypt" data-bs-parent="#encryptionAccordion">
                                <div class="accordion-body">
                                    <form id="bcryptForm">
                                        <div class="mb-3">
                                            <label for="bcryptTargetText" class="form-label">평문 비밀번호</label>
                                            <input type="text" class="form-control" id="bcryptTargetText" name="targetText" required="required">
                                        </div>
                                    </form>
                                        <div class="mb-3">
                                            <button type="button" class="btn btn-dark" onclick="encrypt('bcrypt');">BCrypt 암호화</button>
                                        </div>
                                        <div class="mb-3">
                                            <label for="bcryptResult" class="form-label">해시 결과</label>
                                            <div class="input-group">
                                                <textarea class="form-control" rows="3" readonly="readonly" id="bcryptResult"></textarea>
                                                <button type="button" class="btn btn-outline-secondary" onclick="copyResult('bcrypt');">복사</button>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>

                        <!-- Base64 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingBase64">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBase64" aria-expanded="false" aria-controls="collapseBase64">
                                    🧬 Base64 인코딩/디코딩
                                </button>
                            </h2>
                            <div id="collapseBase64" class="accordion-collapse collapse" aria-labelledby="headingBase64" data-bs-parent="#encryptionAccordion">
                                <div class="accordion-body">
                                    <form id="base64Form">
                                        <div class="mb-3">
                                            <label for="base64TargetText" class="form-label">입력 문자열</label>
                                            <textarea class="form-control" rows="3" id="base64TargetText" name="targetText" required="required"></textarea>
                                        </div>
                                    </form>
                                        <div class="mb-3">
                                            <button type="button" class="btn btn-dark" onclick="encrypt('base64');">인코딩</button>
                                            <button type="button" class="btn btn-secondary" onclick="decrypt('base64');">디코딩</button>
                                        </div>
                                        <div class="mb-3">
                                            <label for="base64Result" class="form-label">결과</label>
                                            <div class="input-group">
                                                <textarea class="form-control" rows="3" readonly="readonly" id="base64Result"></textarea>
                                                <button type="button" class="btn btn-outline-secondary" onclick="copyResult('base64');">복사</button>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>

                        <!-- SHA 해시 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingSHA">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSHA" aria-expanded="false" aria-controls="collapseSHA">
                                    🔎 SHA256 / SHA512 / MD5 해시
                                </button>
                            </h2>
                            <div id="collapseSHA" class="accordion-collapse collapse" aria-labelledby="headingSHA" data-bs-parent="#encryptionAccordion">
                                <div class="accordion-body">
                                    <form id="shaForm">
                                        <div class="mb-3">
                                            <label for="shaTargetText" class="form-label">입력 문자열</label>
                                            <input type="text" class="form-control" id="shaTargetText" name="targetText" required="required">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">알고리즘 선택</label>
                                            <select class="form-select">
                                                <option selected="selected">SHA-256</option>
                                                <option>SHA-512</option>
                                                <option>MD5</option>
                                            </select>
                                        </div>
                                    </form>
                                        <div class="mb-3">
                                            <button type="button" class="btn btn-dark" onclick="encrypt('sha');">해시 변환</button>
                                        </div>
                                        <div class="mb-3">
                                            <label for="shaResult" class="form-label">결과</label>
                                            <div class="input-group">
                                                <textarea class="form-control" rows="3" readonly="readonly" id="shaResult"></textarea>
                                                <button type="button" class="btn btn-outline-secondary" onclick="copyResult('sha');">복사</button>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>

                        <!-- RSA -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingRSA">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRSA" aria-expanded="false" aria-controls="collapseRSA">
                                    🔒 RSA 공개키/개인키 암호화
                                </button>
                            </h2>
                            <div id="collapseRSA" class="accordion-collapse collapse" aria-labelledby="headingRSA" data-bs-parent="#encryptionAccordion">
                                <div class="accordion-body">
                                    <form id="rsaForm">
                                        <div class="mb-3">
                                            <label for="rsaSecretKey" class="form-label">공개키 또는 개인키</label>
                                            <textarea class="form-control" rows="3" id="rsaSecretKey" name="secretKey" required="required"></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label for="rsaTargetText" class="form-label">입력 문자열</label>
                                            <textarea class="form-control" rows="3" id="rsaTargetText" name="targetText" required="required"></textarea>
                                        </div>
                                    </form>
                                        <div class="mb-3">
                                            <button type="button" class="btn btn-dark" onclick="encrypt('rsa');">암호화</button>
                                            <button type="button" class="btn btn-secondary" onclick="decrypt('rsa');">복호화</button>
                                        </div>
                                        <div class="mb-3">
                                            <label for="rsaResult" class="form-label">결과</label>
                                            <div class="input-group">
                                                <textarea class="form-control" rows="3" readonly="readonly" id="rsaResult"></textarea>
                                                <button type="button" class="btn btn-outline-secondary" onclick="copyResult('rsa');">복사</button>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ./ accordion -->

                    <div class="p-3 mb-3">
                        ※ 입력하신 데이터는 서버에서 암호화/복호화 처리되며, 처리 후 저장되지 않습니다.
                    </div>
                </main>
                
                <!-- modal -->
                <div th:include="common/modal :: alert" th:remove="tag"></div>
            </div>
            <!-- ./ container -->
        </div>
        <!-- ./ container-block -->
    </div>
    <!-- ./ warp -->
</body>
</html>